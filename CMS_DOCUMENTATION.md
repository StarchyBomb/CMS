# TorYod CMS: Content Management System Documentation

## ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

1. [‡∏ö‡∏ó‡∏ô‡∏≥](#‡∏ö‡∏ó‡∏ô‡∏≥)
2. [‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö](#‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö)
3. [‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•](#‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
4. [API ‡πÅ‡∏•‡∏∞ Functions](#api-‡πÅ‡∏•‡∏∞-functions)
5. [‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö](#‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö)
6. [‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢‡∏£‡∏∞‡∏ö‡∏ö](#‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢‡∏£‡∏∞‡∏ö‡∏ö)
7. [Best Practices](#best-practices)
8. [‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç](#‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)
9. [‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡πà‡∏≠](#‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡πà‡∏≠)
10. [‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô](#‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)

---

## ‡∏ö‡∏ó‡∏ô‡∏≥

### 1.1 ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå

TorYod CMS (Content Management System) ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå TorYod ‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡πÑ‡∏î‡πâ‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏≤‡∏á User Interface ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢

### 1.2 ‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

‡∏£‡∏∞‡∏ö‡∏ö CMS ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£:
- **‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°**: ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡∏ó‡∏∏‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå
- **‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û**: Hero images, Product images
- **‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥**: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏î‡∏°‡πÑ‡∏î‡πâ, ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô
- **‡∏ò‡∏µ‡∏°‡πÅ‡∏•‡∏∞‡∏™‡∏µ**: Primary color, Secondary color, Dark color, Text color
- **‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤**: Site title, Meta description, Footer text

### 1.3 ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ

- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Storage**: Browser LocalStorage
- **Architecture**: Client-side only (no backend required)
- **Build Tool**: Vite 5.0

---

## ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö

### 2.1 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå

```
TorYodMarket/
‚îú‚îÄ‚îÄ admin.html          # Admin Panel Interface
‚îú‚îÄ‚îÄ admin.css           # Admin Panel Styling
‚îú‚îÄ‚îÄ admin.js            # Admin Panel Logic & CMS Engine
‚îú‚îÄ‚îÄ index.html          # Main Website (Consumer-facing)
‚îú‚îÄ‚îÄ styles.css          # Main Website Styling
‚îú‚îÄ‚îÄ script.js           # Main Website Logic
‚îú‚îÄ‚îÄ translations.js     # Translation System
‚îî‚îÄ‚îÄ vite.config.js     # Build Configuration
```

### 2.2 ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏ö‡∏ö Client-Side CMS

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           Admin Panel (admin.html)              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  User Input ‚Üí Form Fields                ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                 ‚îÇ                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  admin.js - CMS Engine                    ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Data Collection                        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Validation                             ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Storage Management                     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                 ‚îÇ                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚ñº
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ  LocalStorage   ‚îÇ
         ‚îÇ  (Browser)      ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ        Main Website (index.html)                ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  CMS Data Loader                         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Read from LocalStorage                 ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Apply to Translations                  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Update DOM Elements                    ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2.3 Data Flow

```
User Input (Admin Panel)
    ‚Üì
Form Validation
    ‚Üì
Data Structure Creation
    ‚Üì
LocalStorage Persistence
    ‚Üì
Translation System Update
    ‚Üì
DOM Update (Main Website)
    ‚Üì
Visual Changes Applied
```

---

## ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

### 3.1 Admin Data Structure

‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö JSON object ‡πÉ‡∏ô `localStorage` ‡∏î‡πâ‡∏ß‡∏¢ key `toryod-admin-data`:

```javascript
{
    // Hero Section
    "hero.title.en": "Founder's Content is Storytelling Pitch Portal",
    "hero.title.th": "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ú‡∏π‡πâ‡∏Å‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡∏∑‡∏≠‡∏û‡∏≠‡∏£‡πå‡∏ó‡∏±‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á",
    "hero.subtitle.en": "Connecting Thai creators...",
    "hero.subtitle.th": "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏µ‡πÄ‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏ó‡∏¢...",
    "hero.image": "data:image/png;base64,..." or "https://...",
    
    // Story Section
    "story.title.en": "Founder's Story",
    "story.title.th": "‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏ú‡∏π‡πâ‡∏Å‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á",
    "story.problem.title.en": "Honest Problem",
    "story.problem.title.th": "‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏ï‡∏£‡∏á‡∏°‡∏≤",
    "story.problem.text.en": "...",
    "story.problem.text.th": "...",
    "story.progress.title.en": "Project Progress",
    "story.progress.title.th": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£",
    
    // Roadmap Section
    "roadmap.title.en": "Roadmap",
    "roadmap.title.th": "‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô",
    "roadmap.phase1.title.en": "Phase 1: The Survival Stage",
    "roadmap.phase1.title.th": "‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏µ‡πà 1: ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏≠‡∏î",
    "roadmap.phase1.desc.en": "...",
    "roadmap.phase1.desc.th": "...",
    // ... phase2, phase3
    
    // Store Section
    "store.title.en": "Founder's Store",
    "store.title.th": "‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ú‡∏π‡πâ‡∏Å‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á",
    "product.tshirt.name.en": "Founder's Edition T-Shirt",
    "product.tshirt.name.th": "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡∏£‡∏∏‡πà‡∏ô‡∏ú‡∏π‡πâ‡∏Å‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á",
    "product.tshirt.price": "1,500 THB",
    "product.tshirt.image": "...",
    // ... other products
    
    // Trust Section
    "trust.title.en": "Trust & Transparency",
    "trust.title.th": "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏ß‡πâ‡∏ß‡∏≤‡∏á‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™",
    
    // Statistics
    "stats.totalRaised": 2000,
    "stats.goalAmount": 300000,
    "stats.supportersCount": 0,
    
    // Design Theme
    "design.primaryColor": "#FFB88C",
    "design.secondaryColor": "#FFD4B3",
    "design.darkColor": "#FF8C5A",
    "design.textColor": "#1A1A1A",
    
    // Settings
    "settings.siteTitle": "TorYod - Changing Thailand's SME Landscape",
    "settings.metaDescription": "...",
    "settings.footerText": "¬© 2024 TorYod..."
}
```

### 3.2 Key Naming Convention

‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠ key:
- `{section}.{field}.{language}` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏•‡∏≤‡∏¢‡∏†‡∏≤‡∏©‡∏≤
- `{section}.{field}` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏õ‡∏•
- `{category}.{item}.{property}` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö nested objects

‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:
- `hero.title.en` ‚Üí Hero section, Title field, English
- `product.tshirt.price` ‚Üí Product category, T-shirt item, Price property
- `stats.totalRaised` ‚Üí Statistics category, Total raised value

### 3.3 Image Storage Format

‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏î‡πâ 2 ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö:

1. **Data URL (Base64)**: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
   ```
   "hero.image": "data:image/png;base64,iVBORw0KGgoAAAANS..."
   ```

2. **URL String**: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å external source
   ```
   "hero.image": "https://example.com/image.jpg"
   ```

---

## API ‡πÅ‡∏•‡∏∞ Functions

### 4.1 Core CMS Functions

#### `loadAdminData()`
‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å localStorage ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ default

```javascript
function loadAdminData() {
    const saved = localStorage.getItem('toryod-admin-data');
    if (saved) {
        adminData = JSON.parse(saved);
        populateForm();
    } else {
        loadDefaultData();
    }
}
```

**Parameters**: ‡πÑ‡∏°‡πà‡∏°‡∏µ  
**Returns**: `void`  
**Side Effects**: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `adminData` object ‡πÅ‡∏•‡∏∞ populate form fields

---

#### `saveData(showMessage = true)`
‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å form ‡πÑ‡∏õ‡∏¢‡∏±‡∏á localStorage

```javascript
function saveData(showMessage = true) {
    // Collect all form data
    document.querySelectorAll('[data-key]').forEach(element => {
        const key = element.getAttribute('data-key');
        if (element.type === 'number') {
            adminData[key] = parseInt(element.value) || 0;
        } else {
            adminData[key] = element.value;
        }
    });
    
    localStorage.setItem('toryod-admin-data', JSON.stringify(adminData));
    updateMainSiteTranslations();
    
    if (showMessage) {
        showSaveStatus('success', '‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
    }
}
```

**Parameters**:
- `showMessage` (boolean): ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

**Returns**: `void`  
**Side Effects**: 
- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï localStorage
- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï translations ‡πÉ‡∏ô main site
- ‡πÅ‡∏™‡∏î‡∏á success message

---

#### `populateForm()`
‡πÄ‡∏ï‡∏¥‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å `adminData` ‡∏•‡∏á‡πÉ‡∏ô form fields

```javascript
function populateForm() {
    document.querySelectorAll('[data-key]').forEach(element => {
        const key = element.getAttribute('data-key');
        if (adminData[key] !== undefined) {
            if (element.type === 'number') {
                element.value = adminData[key];
            } else {
                element.value = adminData[key];
            }
        }
    });
    updateImagePreviews();
}
```

**Parameters**: ‡πÑ‡∏°‡πà‡∏°‡∏µ  
**Returns**: `void`  
**Side Effects**: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï form fields ‡πÅ‡∏•‡∏∞ image previews

---

#### `updateMainSiteTranslations()`
‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï translation objects ‡πÉ‡∏ô main website

```javascript
function updateMainSiteTranslations() {
    localStorage.setItem('toryod-admin-data', JSON.stringify(adminData));
    
    if (window.translations) {
        Object.keys(adminData).forEach(key => {
            if (key.endsWith('.en') && window.translations.en) {
                const translationKey = key.replace('.en', '');
                window.translations.en[translationKey] = adminData[key];
            }
            // ... similar for .th
        });
    }
    
    localStorage.setItem('toryod-translations', JSON.stringify(window.translations));
}
```

**Parameters**: ‡πÑ‡∏°‡πà‡∏°‡∏µ  
**Returns**: `void`  
**Side Effects**: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `window.translations` ‡πÅ‡∏•‡∏∞ localStorage

---

### 4.2 Image Management Functions

#### `setupImageUploads()`
‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ event listeners ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö image upload

```javascript
function setupImageUploads() {
    document.querySelectorAll('input[type="file"]').forEach(input => {
        input.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    const dataUrl = event.target.result;
                    // Update input field and preview
                };
                reader.readAsDataURL(file);
            }
        });
    });
}
```

**Parameters**: ‡πÑ‡∏°‡πà‡∏°‡∏µ  
**Returns**: `void`  
**Side Effects**: ‡πÄ‡∏û‡∏¥‡πà‡∏° event listeners ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö file inputs

---

#### `updateImagePreviews()`
‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï image previews ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ

```javascript
function updateImagePreviews() {
    document.querySelectorAll('[data-key$=".image"]').forEach(input => {
        const key = input.getAttribute('data-key');
        const imageUrl = adminData[key];
        if (imageUrl && input.type === 'text') {
            const previewId = input.id + '-preview';
            const preview = document.getElementById(previewId);
            if (preview) {
                preview.innerHTML = `<img src="${imageUrl}" alt="Preview">`;
                preview.classList.add('show');
            }
        }
    });
}
```

**Parameters**: ‡πÑ‡∏°‡πà‡∏°‡∏µ  
**Returns**: `void`  
**Side Effects**: ‡πÅ‡∏™‡∏î‡∏á image previews

---

### 4.3 Export/Import Functions

#### `exportData()`
‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô JSON file

```javascript
function exportData() {
    const dataStr = JSON.stringify(adminData, null, 2);
    const dataBlob = new Blob([dataStr], { type: 'application/json' });
    const url = URL.createObjectURL(dataBlob);
    const link = document.createElement('a');
    link.href = url;
    link.download = `toryod-cms-data-${new Date().toISOString().split('T')[0]}.json`;
    link.click();
    URL.revokeObjectURL(url);
}
```

**Parameters**: ‡πÑ‡∏°‡πà‡∏°‡∏µ  
**Returns**: `void`  
**Side Effects**: ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î JSON file

---

#### `importData(file)`
‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å JSON file

```javascript
function importData(file) {
    const reader = new FileReader();
    reader.onload = (event) => {
        try {
            const imported = JSON.parse(event.target.result);
            adminData = { ...adminData, ...imported };
            populateForm();
            saveData();
        } catch (error) {
            showSaveStatus('error', '‚ùå Import ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
        }
    };
    reader.readAsText(file);
}
```

**Parameters**:
- `file` (File): JSON file object

**Returns**: `void`  
**Side Effects**: 
- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `adminData`
- Populate form
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

---

### 4.4 Theme Management Functions

#### `applyTheme(data)`
‡πÉ‡∏ä‡πâ‡∏ò‡∏µ‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏ô main website

```javascript
function applyTheme(data) {
    const theme = {
        primaryColor: data['design.primaryColor'] || '#FFB88C',
        secondaryColor: data['design.secondaryColor'] || '#FFD4B3',
        darkColor: data['design.darkColor'] || '#FF8C5A',
        textColor: data['design.textColor'] || '#1A1A1A'
    };
    
    document.documentElement.style.setProperty('--light-orange', theme.primaryColor);
    document.documentElement.style.setProperty('--orange-peach', theme.secondaryColor);
    document.documentElement.style.setProperty('--orange-dark', theme.darkColor);
    document.documentElement.style.setProperty('--text-dark', theme.textColor);
}
```

**Parameters**:
- `data` (Object): Admin data object

**Returns**: `void`  
**Side Effects**: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï CSS custom properties

---

## ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

### 5.1 Initialization Flow

```
1. User opens admin.html
   ‚Üì
2. admin.js loads
   ‚Üì
3. loadAdminData() called
   ‚Üì
4. Check localStorage for 'toryod-admin-data'
   ‚Üì
5a. If exists: Parse JSON ‚Üí populateForm()
5b. If not: loadDefaultData() ‚Üí populateForm()
   ‚Üì
6. setupImageUploads()
   ‚Üì
7. setupAutoSave()
   ‚Üì
8. setupExportImport()
   ‚Üì
9. Admin Panel ready
```

### 5.2 Save Flow

```
1. User edits content in form
   ‚Üì
2. Auto-save triggers (after 1 second delay)
   ‚Üì
3. Collect all [data-key] elements
   ‚Üì
4. Build adminData object
   ‚Üì
5. Save to localStorage ('toryod-admin-data')
   ‚Üì
6. Update window.translations
   ‚Üì
7. Save translations to localStorage ('toryod-translations')
   ‚Üì
8. Show success message
```

### 5.3 Main Website Load Flow

```
1. User opens index.html
   ‚Üì
2. translations.js loads ‚Üí window.translations created
   ‚Üì
3. script.js loads ‚Üí Initialize variables
   ‚Üì
4. CMS Integration script runs
   ‚Üì
5. Check localStorage for 'toryod-admin-data'
   ‚Üì
6a. If exists: Parse ‚Üí Update translations ‚Üí Apply to DOM
6b. If not: Use default translations
   ‚Üì
7. Apply theme (if exists)
   ‚Üì
8. Update images (if exists)
   ‚Üì
9. Update stats (if exists)
   ‚Üì
10. Call setLanguage() ‚Üí Update all [data-i18n] elements
   ‚Üì
11. Website ready with CMS data
```

### 5.4 Auto-Save Mechanism

‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ **debouncing** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å:

```javascript
let autoSaveTimer = null;

element.addEventListener('input', () => {
    // Update adminData immediately
    adminData[key] = element.value;
    
    // Clear previous timer
    clearTimeout(autoSaveTimer);
    
    // Set new timer (1 second delay)
    autoSaveTimer = setTimeout(() => {
        saveData(false); // Silent save
    }, 1000);
});
```

**Advantages**:
- ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô localStorage
- Performance ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô
- User experience ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô (‡πÑ‡∏°‡πà‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå)

---

## ‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢‡∏£‡∏∞‡∏ö‡∏ö

### 6.1 ‡πÄ‡∏û‡∏¥‡πà‡∏° Section ‡πÉ‡∏´‡∏°‡πà

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏û‡∏¥‡πà‡∏° Form ‡πÉ‡∏ô admin.html

```html
<section id="new-section" class="content-section">
    <div class="section-header">
        <h3>üÜï New Section</h3>
        <p>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà</p>
    </div>
    
    <div class="form-grid">
        <div class="form-group">
            <label>‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ (English)</label>
            <input type="text" id="new-title-en" data-key="new.title.en">
        </div>
        <div class="form-group">
            <label>‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ (‡πÑ‡∏ó‡∏¢)</label>
            <input type="text" id="new-title-th" data-key="new.title.th">
        </div>
    </div>
</section>
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏û‡∏¥‡πà‡∏° Navigation Item

```html
<a href="#new-section" class="nav-item" data-section="new-section">
    <span class="nav-icon">üÜï</span>
    <span class="nav-text">New Section</span>
</a>
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏û‡∏¥‡πà‡∏° Default Data ‡πÉ‡∏ô admin.js

```javascript
function loadDefaultData() {
    adminData = {
        // ... existing data
        'new.title.en': 'New Section Title',
        'new.title.th': '‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏°‡πà',
    };
}
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô Main Website

```html
<section id="new-section">
    <h2 data-i18n="new.title">New Section Title</h2>
</section>
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡πÄ‡∏û‡∏¥‡πà‡∏° Translations

```javascript
// translations.js
window.translations = {
    en: {
        'new.title': 'New Section Title',
    },
    th: {
        'new.title': '‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏°‡πà',
    }
};
```

---

### 6.2 ‡πÄ‡∏û‡∏¥‡πà‡∏° Field Type ‡πÉ‡∏´‡∏°‡πà

#### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: Rich Text Editor

```javascript
// ‡πÉ‡∏ô admin.js
function setupRichTextEditor() {
    document.querySelectorAll('[data-type="richtext"]').forEach(element => {
        // Initialize rich text editor (e.g., TinyMCE, Quill)
        const editor = new RichTextEditor(element.id);
        editor.onChange((content) => {
            const key = element.getAttribute('data-key');
            adminData[key] = content;
        });
    });
}
```

#### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: Color Picker

```javascript
// ‡πÉ‡∏ô admin.js
function setupColorPickers() {
    document.querySelectorAll('[data-type="color"]').forEach(element => {
        const colorPicker = new ColorPicker(element);
        colorPicker.onChange((color) => {
            const key = element.getAttribute('data-key');
            adminData[key] = color;
        });
    });
}
```

---

### 6.3 ‡πÄ‡∏û‡∏¥‡πà‡∏° Validation Rules

```javascript
// ‡πÉ‡∏ô admin.js
const validationRules = {
    'hero.title.en': {
        required: true,
        minLength: 10,
        maxLength: 100,
        pattern: /^[A-Za-z0-9\s]+$/
    },
    'stats.totalRaised': {
        required: true,
        type: 'number',
        min: 0,
        max: 10000000
    }
};

function validateField(key, value) {
    const rule = validationRules[key];
    if (!rule) return { valid: true };
    
    if (rule.required && !value) {
        return { valid: false, error: 'Field is required' };
    }
    
    if (rule.minLength && value.length < rule.minLength) {
        return { valid: false, error: `Minimum length is ${rule.minLength}` };
    }
    
    // ... more validations
    
    return { valid: true };
}
```

---

### 6.4 ‡πÄ‡∏û‡∏¥‡πà‡∏° Backend Integration

#### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: API Integration

```javascript
// ‡πÉ‡∏ô admin.js
async function saveToBackend() {
    try {
        const response = await fetch('/api/cms/save', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${getAuthToken()}`
            },
            body: JSON.stringify(adminData)
        });
        
        if (!response.ok) {
            throw new Error('Save failed');
        }
        
        const result = await response.json();
        return result;
    } catch (error) {
        console.error('Backend save failed:', error);
        // Fallback to localStorage
        saveData();
    }
}
```

---

## Best Practices

### 7.1 Data Management

1. **Always validate before saving**
   ```javascript
   function saveData() {
       // Validate all fields
       const errors = validateAllFields();
       if (errors.length > 0) {
           showErrors(errors);
           return;
       }
       
       // Save if valid
       localStorage.setItem('toryod-admin-data', JSON.stringify(adminData));
   }
   ```

2. **Use debouncing for auto-save**
   - ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô localStorage
   - ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á performance

3. **Backup before major changes**
   ```javascript
   function createBackup() {
       const backup = JSON.stringify(adminData);
       localStorage.setItem('toryod-admin-data-backup', backup);
   }
   ```

### 7.2 Error Handling

1. **Always wrap localStorage in try-catch**
   ```javascript
   try {
       localStorage.setItem('key', value);
   } catch (e) {
       if (e.name === 'QuotaExceededError') {
           // Handle storage full
       }
   }
   ```

2. **Validate JSON before parsing**
   ```javascript
   function safeJSONParse(str) {
       try {
           return JSON.parse(str);
       } catch (e) {
           console.error('Invalid JSON:', e);
           return null;
       }
   }
   ```

### 7.3 Performance Optimization

1. **Lazy load images**
   ```javascript
   function lazyLoadImage(imgElement, imageUrl) {
       if ('IntersectionObserver' in window) {
           const observer = new IntersectionObserver((entries) => {
               entries.forEach(entry => {
                   if (entry.isIntersecting) {
                       entry.target.src = imageUrl;
                       observer.unobserve(entry.target);
                   }
               });
           });
           observer.observe(imgElement);
       } else {
           imgElement.src = imageUrl;
       }
   }
   ```

2. **Batch DOM updates**
   ```javascript
   function batchUpdateDOM(updates) {
       // Use DocumentFragment for batch updates
       const fragment = document.createDocumentFragment();
       updates.forEach(update => {
           fragment.appendChild(update.element);
       });
       document.body.appendChild(fragment);
   }
   ```

### 7.4 Security Considerations

1. **Sanitize user input**
   ```javascript
   function sanitizeInput(input) {
       const div = document.createElement('div');
       div.textContent = input;
       return div.innerHTML;
   }
   ```

2. **Validate image URLs**
   ```javascript
   function isValidImageUrl(url) {
       if (url.startsWith('data:image/')) return true;
       if (url.startsWith('https://') || url.startsWith('http://')) {
           return /\.(jpg|jpeg|png|gif|webp)$/i.test(url);
       }
       return false;
   }
   ```

---

## ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### 8.1 ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô

#### 8.1.1 LocalStorage Size Limit
- **‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: LocalStorage ‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î (~5-10MB)
- **‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö**: ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà (Base64) ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡πá‡∏°
- **‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
  - ‡πÉ‡∏ä‡πâ external image hosting (Cloudinary, Imgur)
  - Compress images ‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î
  - ‡πÉ‡∏ä‡πâ IndexedDB ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà

#### 8.1.2 Client-Side Only
- **‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà browser ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- **‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö**: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ sync ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á devices ‡πÑ‡∏î‡πâ
- **‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
  - ‡πÄ‡∏û‡∏¥‡πà‡∏° backend API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö sync
  - ‡πÉ‡∏ä‡πâ Firebase/ Supabase ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö real-time sync

#### 8.1.3 No User Authentication
- **‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: ‡πÉ‡∏Ñ‡∏£‡∏Å‡πá‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á admin panel ‡πÑ‡∏î‡πâ
- **‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö**: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ï‡πà‡∏≥
- **‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
  - ‡πÄ‡∏û‡∏¥‡πà‡∏° authentication system
  - ‡πÉ‡∏ä‡πâ JWT tokens
  - Role-based access control

### 8.2 ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥

#### Solution 1: Backend Integration

```javascript
// Backend API Structure
POST /api/cms/save
Headers: { Authorization: Bearer <token> }
Body: { adminData: {...} }
Response: { success: true, id: "..." }

GET /api/cms/load
Headers: { Authorization: Bearer <token> }
Response: { adminData: {...} }

POST /api/cms/upload-image
Headers: { Authorization: Bearer <token> }
Body: FormData (file)
Response: { url: "https://cdn.example.com/image.jpg" }
```

#### Solution 2: Cloud Storage Integration

```javascript
// Example: Cloudinary Integration
async function uploadImageToCloudinary(file) {
    const formData = new FormData();
    formData.append('file', file);
    formData.append('upload_preset', 'toryod_cms');
    
    const response = await fetch('https://api.cloudinary.com/v1_1/YOUR_CLOUD_NAME/image/upload', {
        method: 'POST',
        body: formData
    });
    
    const data = await response.json();
    return data.secure_url; // Return CDN URL
}
```

#### Solution 3: Real-time Sync

```javascript
// Example: Firebase Realtime Database
import { getDatabase, ref, set, onValue } from 'firebase/database';

const db = getDatabase();

// Save to Firebase
function saveToFirebase(adminData) {
    set(ref(db, 'cms/data'), adminData);
}

// Listen for changes
onValue(ref(db, 'cms/data'), (snapshot) => {
    const data = snapshot.val();
    adminData = data;
    populateForm();
});
```

---

## ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡πà‡∏≠

### 9.1 Phase 1: Enhanced Features (Short-term)

1. **Rich Text Editor**
   - Integrate TinyMCE or Quill.js
   - Support for formatting, links, lists
   - Image embedding

2. **Media Library**
   - Image gallery management
   - Bulk upload
   - Image cropping and editing

3. **Version Control**
   - Save history of changes
   - Rollback to previous versions
   - Compare versions

4. **Preview Mode**
   - Real-time preview pane
   - Mobile preview
   - Desktop preview

### 9.2 Phase 2: Backend Integration (Medium-term)

1. **RESTful API**
   - Node.js/Express backend
   - MongoDB/PostgreSQL database
   - JWT authentication

2. **User Management**
   - Multiple admin users
   - Role-based permissions
   - Activity logs

3. **Cloud Storage**
   - Image CDN integration
   - File management system
   - Automatic optimization

### 9.3 Phase 3: Advanced Features (Long-term)

1. **Multi-language Support**
   - Support for more languages
   - Translation management
   - Language-specific content

2. **Content Scheduling**
   - Schedule content updates
   - Auto-publish dates
   - Content calendar

3. **Analytics Integration**
   - Track content performance
   - A/B testing
   - User behavior analytics

4. **API for Developers**
   - Public API for content
   - Webhooks for events
   - SDK for integrations

---

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 10.1 Basic Usage

```javascript
// 1. Load CMS data
loadAdminData();

// 2. Edit content programmatically
adminData['hero.title.en'] = 'New Title';
adminData['hero.title.th'] = '‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà';

// 3. Save changes
saveData();

// 4. Apply to main site
updateMainSiteTranslations();
```

### 10.2 Custom Field Integration

```javascript
// Add custom field handler
function setupCustomField(fieldId, dataKey, validator) {
    const field = document.getElementById(fieldId);
    
    field.addEventListener('input', () => {
        const value = field.value;
        
        // Validate
        if (validator && !validator(value)) {
            field.classList.add('error');
            return;
        }
        
        // Save
        adminData[dataKey] = value;
        saveData(false); // Silent save
    });
}

// Usage
setupCustomField('custom-field', 'custom.value', (val) => val.length > 0);
```

### 10.3 Bulk Operations

```javascript
// Update multiple fields at once
function bulkUpdate(updates) {
    Object.keys(updates).forEach(key => {
        adminData[key] = updates[key];
        const element = document.querySelector(`[data-key="${key}"]`);
        if (element) {
            element.value = updates[key];
        }
    });
    saveData();
}

// Usage
bulkUpdate({
    'hero.title.en': 'New Title',
    'hero.subtitle.en': 'New Subtitle',
    'stats.totalRaised': 5000
});
```

### 10.4 Event Hooks

```javascript
// Add custom hooks
const cmsHooks = {
    beforeSave: [],
    afterSave: [],
    beforeLoad: [],
    afterLoad: []
};

function addHook(hookName, callback) {
    if (cmsHooks[hookName]) {
        cmsHooks[hookName].push(callback);
    }
}

// Usage
addHook('beforeSave', () => {
    console.log('About to save...');
});

addHook('afterSave', () => {
    console.log('Saved successfully!');
});
```

---

## ‡∏™‡∏£‡∏∏‡∏õ

TorYod CMS ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢‡∏î‡∏≤‡∏¢ ‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ client-side ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å ‡πÇ‡∏î‡∏¢‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô browser localStorage ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÑ‡∏õ‡∏¢‡∏±‡∏á backend ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï

### ‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô:
- ‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î
- ‚úÖ Real-time updates
- ‚úÖ Export/Import ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- ‚úÖ Theme customization
- ‚úÖ Multi-language support

### ‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤:
- ‚ö†Ô∏è Backend integration ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö production
- ‚ö†Ô∏è User authentication
- ‚ö†Ô∏è Cloud storage ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
- ‚ö†Ô∏è Version control
- ‚ö†Ô∏è Rich text editor

---

## References

- [LocalStorage API](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage)
- [FileReader API](https://developer.mozilla.org/en-US/docs/Web/API/FileReader)
- [Vite Documentation](https://vitejs.dev/)
- [Stripe.js Documentation](https://stripe.com/docs/js)

---

**Version**: 1.0.0  
**Last Updated**: 2024  
**Author**: TorYod Development Team
